<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Income Calculation</title>

<style>
        /* Basic styling for the header */
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
        }
        header {
            background-color: #4C7DE4;
            color: #FFFFFF;
            text-align: center;
            padding: 20px 0;
        }
        h1 {
            padding: 2px 0;
            font-size: 40px;
            margin: 0;
        }
    </style>

<style>
  /* Common CSS styles for both screen and print */
  
  
  body {
    background-color: #4C7DE4;
    
    margin: 0;
    padding: 0;
  }
  

  
  table {
  width: auto; /* Remove fixed width */
  max-width: 100%; /* Set maximum width to 100% */
  display:flex;
  border-collapse: collapse;
  border: 2px solid #007bff;
  border-radius: 10px;
  overflow: hidden; /* Maintain content visibility within table */
  margin-top: 0px;
  margin-left: 0px;
  margin-right: 0px;
  
 /* margin: 5px auto; /* Add margins for top and bottom, center horizontally */
  background-color: green;
}

  th, td {
    border: 1px solid #ddd;
    padding: 10px;
    text-align: left;
     
    font-family: Arial, sans-serif;
    font-size: 14px;
    color: #333;
  }
  
  
  tr:nth-child(even) {
    background-color: #f9f9f9;
  }
  tr:nth-child(odd) {
    background-color: #ffffff;
  }
  tr:hover {
    background-color: #ddd;
  }
 
  th {
    background-color: #09D575;
    color: white;
    font-weight: bold;
    text-transform: uppercase;
  }
  
  h2 {
    color: white;
    font-family: Arial, sans-serif;
    font-size: 14px;
    margin-top: 0px;
    margin-bottom: 3px;
    margin-right:0px;
    margin-left:0px;
    text-align: center;
  }
  /* Additional styles for total headings */
  .total-heading {
    background-color: #007bff;
    color: white;
    font-weight: bold;
    text-align: center;
  }
  /* Updated font color for subtotal rows */
  .subtotal-row {
    color: black;
    font-weight: bold;
  }
  /* Adjust column widths */
  th:first-child {
    width: 20%;
  }
  th:nth-child(2),
  td:nth-child(2) {
    width: 12.5%;
  }
  th:nth-child(3),
  td:nth-child(3),
  th:nth-child(4),
  td:nth-child(4) {
    width: 12.5%;
  }
  /* Styles for buttons */
  .container {
    display: flex;
   
            justify-content: flex-end;
  }
  .button {
    padding: 10px 10px;
    border:none;
    border-radius: 5px;
    background-color: #00f;
    color: white;
    font-size: 16px;
    cursor: pointer;
    margin-top: 8px;
    margin-right:22px;
    margin-bottom:1px;
  }
  

  /* CSS for printing */
  @media print
  
  {
                /* Hide buttons when printing */
        .button-container {
      display:;
     
    }
    
    
    
    
    th {
           -webkit-print-color-adjust: exact; /* For WebKit-based browsers */
                color-adjust: exact; /* For other browsers */
            }
    /* Adjustments for better printing */
    body {
      background-color: #f2f2f2;
    margin: 0;
    padding: 0;
    }
    table {
      page-break-inside: auto; /* Allow tables to break across pages */
    }
    th, td {
      page-break-inside: avoid; /* Avoid*/
    border: 1px solid #ddd;
    padding: 10px;
    text-align: left;
    font-family: Arial, sans-serif;
    font-size: 14px;
    color: #333;
  }
 
 
  tr:nth-child(even) {
    background-color: #f9f9f9;
  }
  tr:nth-child(odd) {
    background-color: #ffffff;
  }
  
  tr:hover {
    background-color: #ddd;
  }
  th {
    background-color: #007bff;
    color: white;
    font-weight: bold;
    text-transform: uppercase;
  }
  }
</style>
<style>
        /* Basic styling for the footer section */
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
        }
        footer {
            background-color: #333;
            color: #FFFFFF;
            text-align: center;
            padding: 20px 0;
        }
        .footer-links {
            margin-top: 10px;
        }
        .footer-links a {
            color: #FFFFFF;
            text-decoration: none;
            margin: 0 15px;
        }
    </style>


<script>
function printPDF() {
    window.print(); // Prompt user with print dialog
  }
  
  
  function resetValues() {
  // Get all input elements within the table
  let tableInputs = document.querySelectorAll('#incomeTable input[type="number"]');
  
  // Loop through each input element and reset its value to empty string
  tableInputs.forEach(input => {
    input.value = "";
  });
}



function resetValues() {
            // Reload the page
            location.reload();
        }
    


</script>
</head>
<body>





<!-- Heading -->
<!-- Heading -->
<header>
        <h1>Incometax Calculator</h1>
       
        <h2>(Disclaimer- This Calculator is made after incorporating all the relevant provisions of income tax act applicable for FY 2023-24(AY 2024-25). If any query, Contact - Sumit Garg, Ph. No. - 9716804520, Email - SumitGarg100000@Gmail.com)</h2>
        
    

   
<!-- Button container -->
<div class="container">
  <button class="button" onclick="resetValues()">Reset</button>
  <button class="button" onclick="printPDF()">Print as PDF</button>
</div>


</header>


<table class="incomeTable" style="overflow:scroll;">
    <!-- Table headers -->
         <tr style="background-color:#49A5E3;">
  <td colspan="4" style="text-align: center; color: ">
    <strong>Basic Details</strong>
  </td>
         </tr>
  <tr>
    <td>Name</td>
    <td><input type="text" id="Name" value=""></td>
    <td>Aadhaar Number</td>
    <td><input type="number" id="Aadhaar Number" value=""></td>
  </tr>
  <tr>
    <td>PAN Number</td>
    <td><input type="text" id="PAN Number" value=""></td>
    <td>Mobile Number</td>
    <td><input type="number" id="Mobile Number" value=""></td>
  </tr>
  <tr>
    <td>Father Name</td>
    <td><input type="text" id="Father Name" value=""></td>
    <td>Email ID</td>
    <td><input type="text" id="Email ID" value=""></td>
  </tr>
  <tr>
    <td>Age</td>
    <td><input type="number" id="Age" value=""></td>
    <td>Bank A/c No.</td>
    <td><input type="number" id="Bank A/c No." value=""></td>
  </tr>
  <tr>
    <td>Address</td>
    <td><input type="text" id="Address" value=""></td>
    <td>IFSC Code</td>
    <td><input type="number" id="IFSC Code" value=""></td>
  </tr>
  <tr>
    <td>Assessment Year</td>
    <td><input type="number" id="Assessment Year" value=""></td>
    <td>MIRC Code</td>
    <td><input type="number" id="MIRC Code" value=""></td>
  </tr>
<tr>
    <td>Financial Year</td>
        <td><input type="text" id="Financial Year" value=""></td>
    
    

    
    <td>Type (Saving/Current)</td>
    <td><input type="text" id="Type (Saving/Current)" value=""></td>
  </tr>

    
    
    
    
    <tr style="background-color:green;">
        <td>Particulars</td>
        <td>Amount</td>
        <td>Old Tax Regime</td>
        <td>New Tax Regime</td>
    </tr>
    <!-- Income under the head "Salaries" -->
   <tr style="background-color:#49A5E3;">
  <td colspan="4" style="text-align: center; color: ">
    <strong>Income from Salary</strong>
  </td>
</tr>
    <!-- Salary Components -->
    <tr>
        <td>Basic Salary</td>
        <td><input type="number" id="basicSalary" value=""></td>
        <td id="oldTaxBasicSalary"></td>
        <td id="newTaxBasicSalary"></td>
    </tr>
    <tr>
        <td>House Rent Allowance (HRA)</td>
        <td><input type="number" id="hra" value=""></td>
        <td id="oldTaxHRA"></td>
        <td id="newTaxHRA"></td>
    </tr>
    <tr>
        <td>Bonus</td>
        <td><input type="number" id="bonus" value=""></td>
        <td id="oldTaxBonus"></td>
        <td id="newTaxBonus"></td>
    </tr>
    <tr>
        <td>Special Allowance</td>
        <td><input type="number" id="specialAllowance" value=""></td>
        <td id="oldTaxSpecialAllowance"></td>
        <td id="newTaxSpecialAllowance"></td>
    </tr>
    <tr>
        <td>Other Allowance</td>
        <td><input type="number" id="otherAllowance" value=""></td>
        <td id="oldTaxOtherAllowance"></td>
        <td id="newTaxOtherAllowance"></td>
    </tr>
    <!-- Gross Salary Calculation -->
    <tr style="background-color:#f9f9f9;">
        <td><strong>Gross Salary</strong></td>
        <td id="GrossSalary">
        </td>
        <td id="oldTaxGrossSalary"></td>
        <td id="newTaxGrossSalary"></td>
    </tr>
    <!-- Deductions and Exemptions -->
    <tr style="background-color:#f9f9f9;">
        <td colspan="4"><strong>Deductions and Exemptions</strong></td>
    </tr>
    <tr>
        <td>Exemption under Sec 10(13A)</td>
        <td><input type="number" id="exemptionSec10" value=""></td>
        <td id="oldTaxExemptionSec10"></td>
        <td id="newTaxExemptionSec10"></td>
    </tr>
    <tr>
        <td>Any Other Exemption</td>
        <td><input type="number" id="otherExemption" value=""></td>
        <td id="oldTaxOtherExemption"></td>
        <td id="newTaxOtherExemption"></td>
    </tr>
    <tr>
        <td>Professional Tax Deduction</td>
        <td><input type="number" id="professionalTax" value=""></td>
        <td id="oldTaxProfessionalTax"></td>
        <td id="newTaxProfessionalTax"></td>
    </tr>
    <tr>
        <td>Standard Deduction</td>
        <td><input type="number" id="standardDeduction" value=""></td>
        <td id="oldTaxStandardDeduction"></td>
        <td id="newTaxStandardDeduction"></td>
    </tr>
    <!-- Net Salary -->
    <tr style="background-color:#77D5B6;">
        <td><strong>Net Salary</strong></td>
        <td id="netSalary"></td>
        <td id="oldTaxNetSalary"></td>
        <td id="newTaxNetSalary"></td>
    </tr>
    <!-- Income under the head House Property -->
    <tr style="background-color:#49A5E3;">
  <td colspan="4" style="text-align: center; color: "><strong>Income from House Property</strong></td>
    </tr>
    <tr>
        <td>Gross Annual Value</td>
        <td><input type="number" id="grossAnnualValue" value=""></td>
        <td id="oldTaxGrossAnnualValue"></td>
        <td id="newTaxGrossAnnualValue"></td>
    </tr>
    <tr>
        <td>Municipal Taxes Paid</td>
        <td><input type="number" id="municipalTaxes" value=""></td>
        <td id="oldTaxMunicipalTaxes"></td>
        <td id="newTaxMunicipalTaxes"></td>
    </tr>
    <tr>
        <td>Net Annual Value (NAV)</td>
        <td id="nav"></td>
        <td id="oldTaxNAV"></td>
        <td id="newTaxNAV"></td>
    </tr>
    <tr>
        <td>Standard Deduction @30%</td>
        <td id="standardDeductionHP"></td>
        <td id="oldTaxStandardDeductionHP"></td>
        <td id="newTaxStandardDeductionHP"></td>
    </tr>
    <tr>
        <td>Interest on House Property (Let-out)</td>
        <td><input type="number" id="interestLetOut" value=""></td>
        <td id="oldTaxInterestLetOut"></td>
        <td id="newTaxInterestLetOut"></td>
    </tr>
    <tr>
        <td>Interest on House Property (Self-occupied)</td>
        <td><input type="number" id="interestSelfOccupied" value=""></td>
        <td id="oldTaxInterestSelfOccupied"></td>
        <td id="newTaxInterestSelfOccupied"></td>
    </tr>
    <!-- Net Income from House Property -->
    <tr style="background-color:#77D5B6;">
        <td><strong>Net Income from House Property</strong></td>
        <td id="netIncomeHouseProperty"></td>
        <td id="oldTaxNetIncomeHouseProperty"></td>
        <td id="newTaxNetIncomeHouseProperty"></td>
    </tr>
    <!-- Income from PGBP -->
    <tr style="background-color:#49A5E3;">
  <td colspan="4" style="text-align: center; color: "><strong>Income from PGBP</strong></td>
    </tr>
    <tr>
        <td>Gross Turnover</td>
        <td><input type="number" id="grossTurnover" value=""></td>
        <td id="oldTaxGrossTurnover"></td>
        <td id="newTaxGrossTurnover"></td>
    </tr>
    <tr>
        <td>% of Profit (Min 6%/8%/50%)</td>
        <td><input type="number" id="percentProfit" value="6" min="6" max="50"></td>
        <td id="oldTaxPercentProfit"></td>
        <td id="newTaxPercentProfit"></td>
    </tr>
    <tr>
        <td>Net Profit u/s 44AD and 44ADA</td>
        <td id="netProfit44AD"></td>
        <td id="oldTaxNetProfit44AD"></td>
        <td id="newTaxNetProfit44AD"></td>
    </tr>
    <tr>
        <td>Normal Business Income</td>
        <td><input type="number" id="normalBusinessIncome" value=""></td>
        <td id="oldTaxNormalBusinessIncome"></td>
        <td id="newTaxNormalBusinessIncome"></td>
    </tr>
    <tr style="background-color:#77D5B6;">
        <td><strong>Net Income from PGBP</strong></td>
        <td id="netIncomePGBP"></td>
        <td id="oldTaxNetIncomePGBP"></td>
        <td id="newTaxNetIncomePGBP"></td>
    </tr>
    <!-- Income from Capital Gain -->
    <tr style="background-color:#49A5E3;">
  <td colspan="4" style="text-align: center; color: "><strong>Income from Capital Gain</strong></td>
    </tr>
    <tr>
        <td>STCG U/S Sec 111-Slab Rate</td>
        <td><input type="number" id="stcgSec111" value=""></td>
        <td id="oldTaxSTCGSec111"></td>
        <td id="newTaxSTCGSec111"></td>
    </tr>
    <tr>
        <td>STCG U/S 111A@15%</td>
        <td><input type="number" id="stcgSec111A" value=""></td>
        <td id="oldTaxSTCGSec111A"></td>
        <td id="newTaxSTCGSec111A"></td>
    </tr>
    <tr>
        <td>LTCG U/S 112@20%</td>
        <td><input type="number" id="ltcgSec112" value=""></td>
        <td id="oldTaxLTCGSec112"></td>
        <td id="newTaxLTCGSec112"></td>
    </tr>
    <tr>
        <td>LTCG U/S 112A@10%</td>
        <td><input type="number" id="ltcgSec112A" value=""></td>
        <td id="oldTaxLTCGSec112A"></td>
        <td id="newTaxLTCGSec112A"></td>
    </tr>
    <tr>
        <tr style="background-color:#77D5B6;">
        <td><strong>Net Income from Capital Gain</strong></td>
        <td id="netIncomeCapitalGain"></td>
        <td id="oldTaxNetIncomeCapitalGain"></td>
        <td id="newTaxNetIncomeCapitalGain"></td>
    </tr>
    <!-- Income from Other Sources -->
    <tr style="background-color:#49A5E3;">
  <td colspan="4" style="text-align: center; color: "><strong>Income from Other Sources</strong></td>
    </tr>
    <tr>
        <td>Dividend Income</td>
        <td><input type="number" id="dividendIncome" value=""></td>
        <td id="oldTaxDividendIncome"></td>
        <td id="newTaxDividendIncome"></td>
    </tr>
    <tr>
        <td>Interest from Saving Bank</td>
        <td><input type="number" id="interestSavingBank" value=""></td>
        <td id="oldTaxInterestSavingBank"></td>
        <td id="newTaxInterestSavingBank"></td>
    </tr>
    <tr>
        <td>Interest from FD</td>
        <td><input type="number" id="interestFD" value=""></td>
        <td id="oldTaxInterestFD"></td>
        <td id="newTaxInterestFD"></td>
    </tr>
    <tr>
        <td>Winning from Lottery</td>
        <td><input type="number" id="winningLottery" value=""></td>
        <td id="oldTaxWinningLottery"></td>
        <td id="newTaxWinningLottery"></td>
    </tr>
    <tr>
        <td>Any Other Income</td>
        <td><input type="number" id="otherIncome" value=""></td>
        <td id="oldTaxOtherIncome"></td>
        <td id="newTaxOtherIncome"></td>
    </tr>
    <tr>
        <tr style="background-color:#77D5B6;">
        <td><strong>Net Income from Other Sources</strong></td>
        <td id="netIncomeOtherSources"></td>
        <td id="oldTaxNetIncomeOtherSources"></td>
        <td id="newTaxNetIncomeOtherSources"></td>
    </tr>
    
     </tr>

    <!-- Setoff Caryy Forward -->
    <tr style="background-color:#49A5E3;">
  <td colspan="4" style="text-align: center; color: "><strong>Set off & Carry Forward</strong></td>
    </tr>
    <tr>
        <td>Loss from HP</td>
        <td><input type="number" id="HPLoss" value=""></td>
        <td id="oldTaxHPLoss"></td>
        <td id="newTaxHPLoss"></td>
    </tr>
    <tr>
        <td>Loss from PGBP</td>
        <td><input type="number" id="PGBPLoss" value=""></td>
        <td id="oldTaxPGBPLoss"></td>
        <td id="newTaxPGBPLoss"></td>
    </tr>
    <tr>
        <td>Loss from STCG</td>
        <td><input type="number" id="STCGLoss" value=""></td>
        <td id="oldTaxSTCGLoss"></td>
        <td id="newTaxSTCGLoss"></td>
    </tr>
    <tr>
        <td>Loss from LTCG</td>
        <td><input type="number" id="LTCGLoss" value=""></td>
        <td id="oldTaxLTCGLoss"></td>
        <td id="newTaxLTCGLoss"></td>
    </tr>
    
    
    <!-- Gross Total Income -->
    <tr style="background-color:#77D5B6;">
        <td><strong>Gross Total Income</strong></td>
        <td id="grossTotalIncome"></td>
        <td id="oldTaxGrossTotalIncome"></td>
        <td id="newTaxGrossTotalIncome"></td>
    </tr>

    <!-- Deductions -->
    <tr style="background-color:#49A5E3;">
  <td colspan="4" style="text-align: center; color: "><strong>Deductions</strong></td>
    </tr>
    <tr>
        <td>Deductions u/s 80C(LIC, PF, PPF, NSC, Repayment of Housing Loan, etc.)</td>
        <td><input type="number" id="deduction80C" value=""></td>
        <td id="oldTaxDeduction80C"></td>
        <td id="newTaxDeduction80C"></td>
    </tr>
    <tr>
        <td>Deduction u/s 80CCC(Payment in respect Pension Fund)</td>
        <td><input type="number" id="deduction80CCC" value=""></td>
        <td id="oldTaxDeduction80CCC"></td>
        <td id="newTaxDeduction80CCC"></td>
    </tr>
    <tr>
        <td>Deductions u/s 80CCD(1)(Employee’s / Self-employed contribution towards NPS)</td>
        <td><input type="number" id="deduction80CCD1" value=""></td>
        <td id="oldTaxDeduction80CCD1"></td>
        <td id="newTaxDeduction80CCD1"></td>
    </tr>

    <tr>
        <td>Restrict 80C, 80CCC, 80CCD(1) upto 150000</td>
        <td id="RestrictDeduction"></td>
        <td id="oldTaxRestrictDeduction"></td>
        <td id="newTaxRestrictDeduction"></td>
    </tr>
    
    <tr>
        <td>Deductions u/s 80CCD (1B) (Additional Employee’s contribution towards NPS)</td>
        <td><input type="number" id="deduction80CCD1B" value=""></td>
        <td id="oldTaxDeduction80CCD1B"></td>
        <td id="newTaxDeduction80CCD1B"></td>
    </tr>
    <tr>
        <td>Deductions u/s 80CCD (2) (Employers contribution towards NPS)</td>
        <td><input type="number" id="deduction80CCD2" value=""></td>
        <td id="oldTaxDeduction80CCD2"></td>
        <td id="newTaxDeduction80CCD2"></td>
    </tr>
    <tr>
        <td>Deductions u/s 80D (MediClaim Premium)</td>
        <td><input type="number" id="deduction80D" value=""></td>
        <td id="oldTaxDeduction80D"></td>
        <td id="newTaxDeduction80D"></td>
    </tr>
    <tr>
        <td>Deductions u/s 80G (Donations)</td>
        <td><input type="number" id="deduction80G" value=""></td>
        <td id="oldTaxDeduction80G"></td>
        <td id="newTaxDeduction80G"></td>
    </tr>
    <tr>
        <td>Deductions u/s 80E (Interest on Loan for Higher Education)</td>
        <td><input type="number" id="deduction80E" value=""></td>
        <td id="oldTaxDeduction80E"></td>
        <td id="newTaxDeduction80E"></td>
    </tr>
    <tr>
        <td>Deductions u/s 80EE (Interest on Loan taken for Residential House)</td>
        <td><input type="number" id="deduction80EE" value=""></td>
        <td id="oldTaxDeduction80EE"></td>
        <td id="newTaxDeduction80EE"></td>
    </tr>
    <tr>
        <td>Deductions u/s80TTA (Interest on Savings Bank Account)</td>
        <td><input type="number" id="deduction80TTA" value=""></td>
        <td id="oldTaxDeduction80TTA"></td>
        <td id="newTaxDeduction80TTA"></td>
    </tr>
    <tr>
        <td>Deductions u/s 80TTB (Interest on Deposits)</td>
        <td><input type="number" id="deduction80TTB" value=""></td>
        <td id="oldTaxDeduction80TTB"></td>
        <td id="newTaxDeduction80TTB"></td>
    </tr>
    <tr>
        <td>Any other deduction</td>
        <td><input type="number" id="anyOtherDeduction" value=""></td>
        <td id="oldTaxAnyOtherDeduction"></td>
        <td id="newTaxAnyOtherDeduction"></td>
    </tr>
      <tr>
        <td>Total Deductions</td>
        <td id="ExcessDeduction" value=""></td>
        <td id="oldExcessDeduction"></td>
        <td id="newExcessDeduction"></td>
    </tr>
    
    <!-- Total Deductions -->
    <tr style="background-color:#f9f9f9;">
        <td><strong>Max Deductions allowed</strong></td>
        <td id="totalDeductions"></td>
        <td id="totalOldTaxDeductions"></td>
        <td id="totalNewTaxDeductions"></td>
    </tr>
    <!-- Net Taxable Income after Deductions -->
    <tr style="background-color:#77D5B6;">
        <td><strong>Net Taxable Income after Deductions</strong></td>
        <td id="netIncome"></td>
        <td id="oldTaxNetIncome"></td>
        <td id="newTaxNetIncome"></td>
    </tr>
        
    <!-- Roundoff-->
<tr style="background-color:#4EB26E;">
    <td><strong>Net Taxable Income Rounding off u/s 288A</strong></td>
    <td id="Roundoff"></td>
    <td id="oldTaxRoundoff"></td>
    <td id="newTaxRoundoff"></td>
</tr>
 
 
    <tr>
        <td>Tax on Normal Income</td>
        <td></td>
        <td id="oldTaxNormalIncomeTax"></td>
        <td id="newTaxNormalIncomeTax"></td>
    </tr>
    <tr>
        <td>Tax on Special Income</td>
        <td></td>
        <td id="oldTaxSpecialIncomeTax"></td>
        <td id="newTaxSpecialIncomeTax"></td>
    </tr>
    <tr>
        <td>Total Tax before Rebate</td>
        <td></td>
        <td id="oldTaxTotalTaxBeforeRebate"></td>
        <td id="newTaxTotalTaxBeforeRebate"></td>
    </tr>
    <tr>
        <td>Rebate U/s 87A</td>
        <td></td>
        <td id="oldTaxRebate87A"></td>
        <td id="newTaxRebate87A"></td>
    </tr>
        <tr>
        <td>Total Tax before Surcharge</td>
        <td></td>
        <td id="oldTaxTotalTaxBeforeSurcharge"></td>
        <td id="newTaxTotalTaxBeforeSurcharge"></td>
    </tr>
        <tr>
        <td>Surcharge</td>
        <td></td>
        <td id="oldTaxSurcharge"></td>
        <td id="newTaxSurcharge"></td>
    </tr>
            <tr>
        <td>Marginal Relief</td>
        <td></td>
        <td id="oldTaxMarginalRelief"></td>
        <td id="newTaxMarginalRelief"></td>
    </tr>
    <tr>
        <td>Total Tax before Cess</td>
        <td></td>
        <td id="oldTaxTotalTaxBeforeCess"></td>
        <td id="newTaxTotalTaxBeforeCess"></td>
    </tr>
    <tr>
        <td>Cess@4%</td>
        <td></td>
        <td id="oldTaxCess"></td>
        <td id="newTaxCess"></td>
    </tr>



    <tr>
        <td style="background-color:#F73F09;">Gross Tax Payable</td>
        <td style="background-color:#F73F09;"></td>
        <td style="background-color:#F73F09;" id="oldTaxGrossTaxPayable"></td>
        <td style="background-color:#F73F09;" id="newTaxGrossTaxPayable"></td>
    </tr>

    
</table>

<script>

// if (window.location.href === "https://sumitgarg100000.github.io/IncometaxCalculator/") {

  
  
document.addEventListener("DOMContentLoaded", function() {
            // Get the heading element
            var heading = document.querySelector("h2");

            // Check if the heading text content is equal to "abc"
            if (heading.textContent.trim() === "(Disclaimer- This Calculator is made after incorporating all the relevant provisions of income tax act applicable for FY 2023-24(AY 2024-25). If any query, Contact - Sumit Garg, Ph. No. - 9716804520, Email - SumitGarg100000@Gmail.com)") 
                     
// Function to calculate all incomes and gross total income
function calculateAllIncomes() {
    // Retrieve values from the input fields
    let oldbasicSalary = Math.max(0, Number(document.getElementById('basicSalary').value));
let oldhra = Math.max(0, Number(document.getElementById('hra').value));
let oldbonus = Math.max(0, Number(document.getElementById('bonus').value));
let oldspecialAllowance = Math.max(0, Number(document.getElementById('specialAllowance').value));
let oldotherAllowance = Math.max(0, Number(document.getElementById('otherAllowance').value));

let oldTaxGrossSalary = oldbasicSalary + oldhra + oldbonus + oldspecialAllowance + oldotherAllowance;

let oldexemptionSec10 = Math.min(Math.max(0, Number(document.getElementById('exemptionSec10').value)),oldTaxGrossSalary);
let oldotherExemption = Math.min(Math.max(0, Number(document.getElementById('otherExemption').value)),oldTaxGrossSalary);
let oldprofessionalTax = Math.min(Math.max(0, Number(document.getElementById('professionalTax').value)),oldTaxGrossSalary);
let oldstandardDeduction = Math.max(0, Number(document.getElementById('standardDeduction').value));
let newbasicSalary = Math.max(0, Number(document.getElementById('basicSalary').value));
let newhra = Math.max(0, Number(document.getElementById('hra').value));
let newbonus = Math.max(0, Number(document.getElementById('bonus').value));
let newspecialAllowance = Math.max(0, Number(document.getElementById('specialAllowance').value));
let newotherAllowance = Math.max(0, Number(document.getElementById('otherAllowance').value));
let newexemptionSec10 = 0;
let newotherExemption = 0;
let newprofessionalTax = 0;
let newstandardDeduction = Math.max(0, Number(document.getElementById('standardDeduction').value));

    // Calculate Gross Salary for both Old Tax Regime and New Tax Regime
    
    let newTaxGrossSalary = newbasicSalary + newhra + newbonus + newspecialAllowance + newotherAllowance;

    // Determine if Standard Deduction is applicable and not exceeding 50000
    let oldexcessGrossSalary = Math.max(0, oldTaxGrossSalary - (oldexemptionSec10 + oldotherExemption + oldprofessionalTax));
    let oldTaxStandardDeduction = Math.min(oldexcessGrossSalary, 50000);
    let newTaxStandardDeduction = Math.min(newTaxGrossSalary, 50000);

    // Calculate Net Salary for both Old Tax Regime and New Tax Regime
    let oldTaxNetSalary = oldTaxGrossSalary - (oldexemptionSec10 + oldotherExemption + oldprofessionalTax + oldTaxStandardDeduction);
    let newTaxNetSalary = newTaxGrossSalary - newTaxStandardDeduction;

    // Update corresponding table cells with the calculated values
    document.getElementById('oldTaxBasicSalary').textContent = oldbasicSalary.toFixed(2);
    document.getElementById('oldTaxHRA').textContent = oldhra.toFixed(2);
    document.getElementById('oldTaxBonus').textContent = oldbonus.toFixed(2);
    document.getElementById('oldTaxSpecialAllowance').textContent = oldspecialAllowance.toFixed(2);
    document.getElementById('oldTaxOtherAllowance').textContent = oldotherAllowance.toFixed(2);
    document.getElementById('oldTaxGrossSalary').textContent = oldTaxGrossSalary.toFixed(2);
    document.getElementById('oldTaxExemptionSec10').textContent = oldexemptionSec10.toFixed(2);
    document.getElementById('oldTaxOtherExemption').textContent = oldotherExemption.toFixed(2);
    document.getElementById('oldTaxProfessionalTax').textContent = oldprofessionalTax.toFixed(2);
    document.getElementById('oldTaxStandardDeduction').textContent = oldTaxStandardDeduction.toFixed(2);
    document.getElementById('oldTaxNetSalary').textContent = oldTaxNetSalary.toFixed(2);

    document.getElementById('newTaxBasicSalary').textContent = newbasicSalary.toFixed(2);
    document.getElementById('newTaxHRA').textContent = newhra.toFixed(2);
    document.getElementById('newTaxBonus').textContent = newbonus.toFixed(2);
    document.getElementById('newTaxSpecialAllowance').textContent = newspecialAllowance.toFixed(2);
    document.getElementById('newTaxOtherAllowance').textContent = newotherAllowance.toFixed(2);
    document.getElementById('newTaxGrossSalary').textContent = newTaxGrossSalary.toFixed(2);
    document.getElementById('newTaxExemptionSec10').textContent = '0.00';
    document.getElementById('newTaxOtherExemption').textContent = '0.00';
    document.getElementById('newTaxProfessionalTax').textContent = '0.00';
    document.getElementById('newTaxStandardDeduction').textContent = newTaxStandardDeduction.toFixed(2);
    document.getElementById('newTaxNetSalary').textContent = newTaxNetSalary.toFixed(2);



// Calculate net income from house property
    let oldgrossAnnualValue = Math.max(0, Number(document.getElementById('grossAnnualValue').value));
    document.getElementById('oldTaxGrossAnnualValue').textContent = oldgrossAnnualValue.toFixed(2);
let oldmunicipalTaxes = Math.min(Math.max(0, Number(document.getElementById('municipalTaxes').value)),oldgrossAnnualValue);
 document.getElementById('oldTaxMunicipalTaxes').textContent = oldmunicipalTaxes.toFixed(2);
    let oldnav = oldgrossAnnualValue - oldmunicipalTaxes;
    document.getElementById('oldTaxNAV').textContent = oldnav.toFixed(2);
    let oldstandardDeductionHP = oldnav * 0.3;
     document.getElementById('oldTaxStandardDeductionHP').textContent = oldstandardDeductionHP.toFixed(2);
    
    
    if (Number(document.getElementById('interestLetOut').value)<=0)
    {
        oldinterestLetOut=0;
    } else if(Number(document.getElementById('interestLetOut').value)<=200000)
    {
        oldinterestLetOut= Number(document.getElementById('interestLetOut').value);
    } else {
        oldinterestLetOut = Math.min(Number(document.getElementById('interestLetOut').value),oldnav*0.7);
    }
    
    
document.getElementById('oldTaxInterestLetOut').textContent = oldinterestLetOut.toFixed(2);


if (Number(document.getElementById('interestSelfOccupied').value)<0)
{
oldinterestSelfOccupied=0;
} 
else if(oldnav*0.7<oldinterestLetOut)
{
    oldinterestSelfOccupied = Math.min(Number(document.getElementById('interestSelfOccupied').value),(Number(document.getElementById('interestSelfOccupied').value))+oldinterestLetOut,200000-oldinterestLetOut);

} else {
    oldinterestSelfOccupied = Math.min(Number(document.getElementById('interestSelfOccupied').value),oldinterestLetOut,200000);
}

  //  let oldinterestSelfOccupied = Math.max(Math.min(Number(document.getElementById('interestSelfOccupied').value),200000-oldinterestLetOut),0);
  
  
    document.getElementById('oldTaxInterestSelfOccupied').textContent = oldinterestSelfOccupied.toFixed(2);
  let oldNetHP = oldnav-oldstandardDeductionHP-
  oldinterestLetOut-oldinterestSelfOccupied;
  document.getElementById('oldTaxNetIncomeHouseProperty').textContent = oldNetHP.toFixed(2);

// Calculate net income from house property
let newGrossAnnualValue = Math.max(0, Number(document.getElementById('grossAnnualValue').value));
document.getElementById('newTaxGrossAnnualValue').textContent = newGrossAnnualValue.toFixed(2);
let newMunicipalTaxes = Math.min(Math.max(0, Number(document.getElementById('municipalTaxes').value)), newGrossAnnualValue);
document.getElementById('newTaxMunicipalTaxes').textContent = newMunicipalTaxes.toFixed(2);
let newNAV = newGrossAnnualValue - newMunicipalTaxes;
document.getElementById('newTaxNAV').textContent = newNAV.toFixed(2);
let newStandardDeductionHP = newNAV * 0.3;
document.getElementById('newTaxStandardDeductionHP').textContent = newStandardDeductionHP.toFixed(2);



if (Number(document.getElementById('interestLetOut').value) <= 0) {
    newInterestLetOut = 0;
} else if (Number(document.getElementById('interestLetOut').value) <= 200000) {
    newInterestLetOut = Number(document.getElementById('interestLetOut').value);
} else {
    newInterestLetOut = Math.min(Number(document.getElementById('interestLetOut').value), oldnav * 0.7);
}

document.getElementById('newTaxInterestLetOut').textContent = newInterestLetOut.toFixed(2);





let newInterestSelfOccupied = 0;
document.getElementById('newTaxInterestSelfOccupied').textContent = newInterestSelfOccupied.toFixed(2);
let newNetHP = newNAV - newStandardDeductionHP - newInterestLetOut - newInterestSelfOccupied;
document.getElementById('newTaxNetIncomeHouseProperty').textContent = newNetHP.toFixed(2);


// Income from PGBP

    // Retrieve values from input fields
    let oldgrossTurnover = Math.max(Number(document.getElementById('grossTurnover').value),0);
    let oldpercentProfit = Math.max(Number(document.getElementById('percentProfit').value),6);
    let oldnormalBusinessIncome = Number(document.getElementById('normalBusinessIncome').value);
    
    // Calculate net profit u/s 44AD and 44ADA
    let oldnetProfit44AD = oldgrossTurnover * (oldpercentProfit / 100);
    let oldnetIncomePGBP = oldnetProfit44AD + oldnormalBusinessIncome;
    
    // Update corresponding table cells in the old tax regime
    document.getElementById('oldTaxGrossTurnover').textContent = oldgrossTurnover.toFixed(2);
    document.getElementById('oldTaxPercentProfit').textContent = oldpercentProfit.toFixed(2);
    document.getElementById('oldTaxNetProfit44AD').textContent = oldnetProfit44AD.toFixed(2);
    document.getElementById('oldTaxNormalBusinessIncome').textContent = oldnormalBusinessIncome.toFixed(2);
    document.getElementById('oldTaxNetIncomePGBP').textContent = oldnetIncomePGBP.toFixed(2);
    
    let newGrossTurnover = Math.max(Number(document.getElementById('grossTurnover').value), 0);
let newPercentProfit = Math.max(Number(document.getElementById('percentProfit').value), 6);
let newNormalBusinessIncome = Number(document.getElementById('normalBusinessIncome').value);

// Calculate net profit u/s 44AD and 44ADA
let newNetProfit44AD = newGrossTurnover * (newPercentProfit / 100);
let newNetIncomePGBP = newNetProfit44AD + newNormalBusinessIncome;

// Update corresponding table cells in the new tax regime
document.getElementById('newTaxGrossTurnover').textContent = newGrossTurnover.toFixed(2);
document.getElementById('newTaxPercentProfit').textContent = newPercentProfit.toFixed(2);
document.getElementById('newTaxNetProfit44AD').textContent = newNetProfit44AD.toFixed(2);
document.getElementById('newTaxNormalBusinessIncome').textContent = newNormalBusinessIncome.toFixed(2);
document.getElementById('newTaxNetIncomePGBP').textContent = newNetIncomePGBP.toFixed(2);


// Income from capital Gain

    // Retrieve values from the input fields
    let oldstcgSec111 = Number(document.getElementById('stcgSec111').value);
    let oldstcgSec111A = Number(document.getElementById('stcgSec111A').value);
    let oldltcgSec112 = Number(document.getElementById('ltcgSec112').value);
    let oldltcgSec112A = Number(document.getElementById('ltcgSec112A').value);

    // Calculate Old Tax Regime income from capital gains
    let oldTaxNetIncomeCapitalGain = oldstcgSec111 + oldstcgSec111A + oldltcgSec112 + oldltcgSec112A;


    // Update the corresponding table cells with the calculated values
    document.getElementById('oldTaxSTCGSec111').textContent = oldstcgSec111.toFixed(2);
    document.getElementById('oldTaxSTCGSec111A').textContent = oldstcgSec111A.toFixed(2);
    document.getElementById('oldTaxLTCGSec112').textContent = oldltcgSec112.toFixed(2);
    document.getElementById('oldTaxLTCGSec112A').textContent = oldltcgSec112A.toFixed(2);
    document.getElementById('oldTaxNetIncomeCapitalGain').textContent = oldTaxNetIncomeCapitalGain.toFixed(2);
    
// Retrieve values from the input fields
let newSTCGSec111 = Number(document.getElementById('stcgSec111').value);
let newSTCGSec111A = Number(document.getElementById('stcgSec111A').value);
let newLTCGSec112 = Number(document.getElementById('ltcgSec112').value);
let newLTCGSec112A = Number(document.getElementById('ltcgSec112A').value);

// Calculate New Tax Regime income from capital gains
let newTaxNetIncomeCapitalGain = newSTCGSec111 + newSTCGSec111A + newLTCGSec112 + newLTCGSec112A;

// Update the corresponding table cells with the calculated values
document.getElementById('newTaxSTCGSec111').textContent = newSTCGSec111.toFixed(2);
document.getElementById('newTaxSTCGSec111A').textContent = newSTCGSec111A.toFixed(2);
document.getElementById('newTaxLTCGSec112').textContent = newLTCGSec112.toFixed(2);
document.getElementById('newTaxLTCGSec112A').textContent = newLTCGSec112A.toFixed(2);
document.getElementById('newTaxNetIncomeCapitalGain').textContent = newTaxNetIncomeCapitalGain.toFixed(2);

    
    // Calculate Net Income from Other Sources

    // Retrieve values from input fields
    let oldDividendIncome = Math.max(0, Number(document.getElementById('dividendIncome').value));
let oldInterestSavingBank = Math.max(0, Number(document.getElementById('interestSavingBank').value));
let oldInterestFD = Math.max(0, Number(document.getElementById('interestFD').value));
let oldWinningLottery = Math.max(0, Number(document.getElementById('winningLottery').value));
let oldOtherIncome = Math.max(0, Number(document.getElementById('otherIncome').value));


    // Update Old Tax Regime cells
    document.getElementById('oldTaxDividendIncome').textContent = oldDividendIncome.toFixed(2);
    document.getElementById('oldTaxInterestSavingBank').textContent = oldInterestSavingBank.toFixed(2);
    document.getElementById('oldTaxInterestFD').textContent = oldInterestFD.toFixed(2);
    document.getElementById('oldTaxWinningLottery').textContent = oldWinningLottery.toFixed(2);
    document.getElementById('oldTaxOtherIncome').textContent = oldOtherIncome.toFixed(2);
    
    let oldTaxNetIncomeOtherSources = oldDividendIncome + oldInterestSavingBank + oldInterestFD + oldWinningLottery + oldOtherIncome;
    document.getElementById('oldTaxNetIncomeOtherSources').textContent = oldTaxNetIncomeOtherSources.toFixed(2);

// Retrieve values from input fields
let newDividendIncome = Math.max(0, Number(document.getElementById('dividendIncome').value));
let newInterestSavingBank = Math.max(0, Number(document.getElementById('interestSavingBank').value));
let newInterestFD = Math.max(0, Number(document.getElementById('interestFD').value));
let newWinningLottery = Math.max(0, Number(document.getElementById('winningLottery').value));
let newOtherIncome = Math.max(0, Number(document.getElementById('otherIncome').value));

// Update New Tax Regime cells
document.getElementById('newTaxDividendIncome').textContent = newDividendIncome.toFixed(2);
document.getElementById('newTaxInterestSavingBank').textContent = newInterestSavingBank.toFixed(2);
document.getElementById('newTaxInterestFD').textContent = newInterestFD.toFixed(2);
document.getElementById('newTaxWinningLottery').textContent = newWinningLottery.toFixed(2);
document.getElementById('newTaxOtherIncome').textContent = newOtherIncome.toFixed(2);

let newTaxNetIncomeOtherSources = newDividendIncome + newInterestSavingBank + newInterestFD + newWinningLottery + newOtherIncome;
document.getElementById('newTaxNetIncomeOtherSources').textContent = newTaxNetIncomeOtherSources.toFixed(2);

//Setoff Loss


let oldSetOffHPLoss = 0;

if (oldNetHP>=0){
    oldSetoffHPLoss = 0;
} else
if (-oldNetHP>(oldTaxNetSalary + oldnetIncomePGBP + oldTaxNetIncomeCapitalGain + oldTaxNetIncomeOtherSources))
{
    //Carry forward 
    oldSetOffHPLoss=(-oldNetHP-Math.max(oldTaxNetSalary + oldnetIncomePGBP + oldTaxNetIncomeCapitalGain + oldTaxNetIncomeOtherSources,0));
} else if (-oldNetHP>200000)
{    
    oldSetOffHPLoss = (-oldNetHP-200000);
} else 

{
    
oldSetOffHPLoss = -Math.max(Math.min(-oldNetHP,oldTaxNetSalary + oldnetIncomePGBP + oldTaxNetIncomeCapitalGain + oldTaxNetIncomeOtherSources,200000),0);
   
}


document.getElementById('oldTaxHPLoss').textContent = oldSetOffHPLoss.toFixed(2);

let oldSetOffPGBPLoss = 0;


if (oldnetIncomePGBP>=0){
    oldSetOffPGBPLoss = 0;
} else if (-oldnetIncomePGBP>(oldTaxNetSalary + oldNetHP + oldTaxNetIncomeCapitalGain + oldTaxNetIncomeOtherSources)){
   oldSetOffPGBPLoss=  (-oldnetIncomePGBP-(oldTaxNetSalary + oldNetHP + oldTaxNetIncomeCapitalGain + oldTaxNetIncomeOtherSources));
} else {
    oldSetOffPGBPLoss = -Math.max(Math.min(-oldnetIncomePGBP,oldNetHP+oldTaxNetIncomeCapitalGain+oldTaxNetIncomeOtherSources),0);
}
document.getElementById('oldTaxPGBPLoss').textContent = oldSetOffPGBPLoss.toFixed(2);


let oldSetOffSTCGLoss = 0;


if (oldstcgSec111+oldstcgSec111A>=0)
{
    oldSetOffSTCGLoss = 0;
} else 
//STCG only setoff from LTCG remaining amt carry forward
{
   oldSetOffSTCGLoss=  Math.max(-(oldstcgSec111+oldstcgSec111A)-Math.max((oldltcgSec112+oldltcgSec112A),0),0);
}


let oldSetOffLTCGLoss = 0;

if ((oldltcgSec112A+oldltcgSec112)>=0)
{
    oldSetOffLTCGLoss = 0;
} else
//LTCG setoff from LTCG remaining carry forward 
{
   oldSetOffLTCGLoss=  -(oldltcgSec112+oldltcgSec112A);
}

document.getElementById('oldTaxSTCGLoss').textContent = oldSetOffSTCGLoss.toFixed(2);

document.getElementById('oldTaxLTCGLoss').textContent = oldSetOffLTCGLoss.toFixed(2);


let oldSetOfftotal = oldSetOffHPLoss+oldSetOffPGBPLoss+oldSetOffSTCGLoss+oldSetOffLTCGLoss;

// Setoff Loss

let newSetOffHPLoss = 0;

if (newNetHP >= 0) {
    newSetOffHPLoss = 0;
} else if (-newNetHP > (newTaxNetSalary + newNetIncomePGBP + newTaxNetIncomeCapitalGain + newTaxNetIncomeOtherSources)) {
    // Carry forward 
    newSetOffHPLoss = (-newNetHP - Math.max(newTaxNetSalary + newNetIncomePGBP + newTaxNetIncomeCapitalGain + newTaxNetIncomeOtherSources, 0));
} else if (-newNetHP > 200000) {
    newSetOffHPLoss = (-newNetHP - 200000);
} else {
    newSetOffHPLoss = -Math.max(Math.min(-newNetHP, newTaxNetSalary + newNetIncomePGBP + newTaxNetIncomeCapitalGain + newTaxNetIncomeOtherSources, 200000), 0);
}

document.getElementById('newTaxHPLoss').textContent = newSetOffHPLoss.toFixed(2);

let newSetOffPGBPLoss = 0;

if (newNetIncomePGBP >= 0) {
    newSetOffPGBPLoss = 0;
} else if (-newNetIncomePGBP > (newTaxNetSalary + newNetHP + newTaxNetIncomeCapitalGain + newTaxNetIncomeOtherSources)) {
    newSetOffPGBPLoss = (-newNetIncomePGBP - (newTaxNetSalary + newNetHP + newTaxNetIncomeCapitalGain + newTaxNetIncomeOtherSources));
} else {
    newSetOffPGBPLoss = -Math.max(Math.min(-newNetIncomePGBP, newNetHP + newTaxNetIncomeCapitalGain + newTaxNetIncomeOtherSources),0);
}
document.getElementById('newTaxPGBPLoss').textContent = newSetOffPGBPLoss.toFixed(2);

let newSetOffSTCGLoss = 0;

if (newSTCGSec111 + newSTCGSec111A >= 0) {
    newSetOffSTCGLoss = 0;
} else {
    // STCG only setoff from LTCG remaining amt carry forward
    newSetOffSTCGLoss = Math.max(-(newSTCGSec111 + newSTCGSec111A) - Math.max(newLTCGSec112 + newLTCGSec112A,0), 0);
}

let newSetOffLTCGLoss = 0;

if ((newLTCGSec112A + newLTCGSec112) >= 0) {
    newSetOffLTCGLoss = 0;
} else {
    // LTCG setoff from LTCG remaining carry forward 
    newSetOffLTCGLoss = -(newLTCGSec112 + newLTCGSec112A);
}

document.getElementById('newTaxSTCGLoss').textContent = newSetOffSTCGLoss.toFixed(2);
document.getElementById('newTaxLTCGLoss').textContent = newSetOffLTCGLoss.toFixed(2);

let newSetOffTotal = newSetOffHPLoss + newSetOffPGBPLoss + newSetOffSTCGLoss + newSetOffLTCGLoss;







// Calculate Gross Total Income

let oldgrossTotalIncome = oldTaxNetSalary + oldNetHP + oldnetIncomePGBP + oldTaxNetIncomeCapitalGain + oldTaxNetIncomeOtherSources+oldSetOfftotal;

document.getElementById('oldTaxGrossTotalIncome').textContent = oldgrossTotalIncome.toFixed(2);

let newGrossTotalIncome = newTaxNetSalary + newNetHP + newNetIncomePGBP + newTaxNetIncomeCapitalGain + newTaxNetIncomeOtherSources+newSetOffTotal;
document.getElementById('newTaxGrossTotalIncome').textContent = newGrossTotalIncome.toFixed(2);


//restrict deductions benefit from special income


// Get user input for deductions
   // Retrieve values from the input fields and ensure each deduction does not exceed a certain value
let olddeduction80C = Math.min(150000, Number(document.getElementById('deduction80C').value));
let olddeduction80CCC = Math.min(150000, Number(document.getElementById('deduction80CCC').value)); // Adjust 'maximumValue' accordingly
let olddeduction80CCD1 = Math.min(150000, Number(document.getElementById('deduction80CCD1').value)); // Adjust 'maximumValue' accordingly
let oldRestrictDeduction = Math.min(150000, olddeduction80C + olddeduction80CCC + olddeduction80CCD1);
let olddeduction80CCD1B = Math.min(50000, Number(document.getElementById('deduction80CCD1B').value)); // Adjust 'maximumValue' accordingly
let olddeduction80CCD2 = Math.max(Number(document.getElementById('deduction80CCD2').value),0); 
let olddeduction80D = Math.min(100000, Number(document.getElementById('deduction80D').value)); // Adjust 'maximumValue' accordingly
let olddeduction80G = Math.max(Number(document.getElementById('deduction80G').value),0); 
let olddeduction80E = Math.max(Number(document.getElementById('deduction80E').value),0); // Adjust 'maximumValue' accordingly
let olddeduction80EE = Math.max(Number(document.getElementById('deduction80EE').value),0); // Adjust 'maximumValue' accordingly
let olddeduction80TTA = Math.min(10000, Number(document.getElementById('deduction80TTA').value)); // Adjust 'maximumValue' accordingly
let olddeduction80TTB = Math.min(50000, Number(document.getElementById('deduction80TTB').value)); // Adjust 'maximumValue' accordingly
let oldanyOtherDeduction = Math.max(Number(document.getElementById('anyOtherDeduction').value),0); // Adjust 'maximumValue' accordingly

let oldExcessDeduction = oldRestrictDeduction + olddeduction80CCD1B + olddeduction80CCD2 + olddeduction80D + olddeduction80G + olddeduction80E + olddeduction80EE + olddeduction80TTA + olddeduction80TTB + oldanyOtherDeduction;


let oldtotalDeductions=Math.min(Math.max(oldgrossTotalIncome-(oldstcgSec111A + oldltcgSec112 + oldltcgSec112A+oldWinningLottery),0),oldExcessDeduction);

let oldnetIncome = Math.max(oldgrossTotalIncome - oldtotalDeductions,0);
   // Update the corresponding table cells with the calculated values for the old tax regime
    document.getElementById('oldTaxDeduction80C').textContent = olddeduction80C.toFixed(2);
    document.getElementById('oldTaxDeduction80CCC').textContent = olddeduction80CCC.toFixed(2);
    document.getElementById('oldTaxDeduction80CCD1').textContent = olddeduction80CCD1.toFixed(2);
    document.getElementById('oldTaxRestrictDeduction').textContent = oldRestrictDeduction.toFixed(2);
    
    document.getElementById('oldTaxDeduction80CCD1B').textContent = olddeduction80CCD1B.toFixed(2);
    document.getElementById('oldTaxDeduction80CCD2').textContent = olddeduction80CCD2.toFixed(2);
    document.getElementById('newTaxDeduction80CCD2').textContent = olddeduction80CCD2.toFixed(2);
    document.getElementById('oldTaxDeduction80D').textContent = olddeduction80D.toFixed(2);
    document.getElementById('oldTaxDeduction80G').textContent = olddeduction80G.toFixed(2);
    document.getElementById('oldTaxDeduction80E').textContent = olddeduction80E.toFixed(2);
    document.getElementById('oldTaxDeduction80EE').textContent = olddeduction80EE.toFixed(2);
    document.getElementById('oldTaxDeduction80TTA').textContent = olddeduction80TTA.toFixed(2);
    document.getElementById('oldTaxDeduction80TTB').textContent = olddeduction80TTB.toFixed(2);
    document.getElementById('oldTaxAnyOtherDeduction').textContent = oldanyOtherDeduction.toFixed(2);
    document.getElementById('oldExcessDeduction').textContent = oldExcessDeduction.toFixed(2);
    document.getElementById('totalOldTaxDeductions').textContent = oldtotalDeductions.toFixed(2);
    document.getElementById('oldTaxNetIncome').textContent = oldnetIncome.toFixed(2);
    
// Retrieve values from the input fields and ensure each deduction does not exceed a certain valuelet newdeduction80C = Math.min(150000, Number(document.getElementById('deduction80C').value));

let newdeduction80C = 0;
let newdeduction80CCC = 0;
let newdeduction80CCD1 = 0;
let newRestrictDeduction = Math.min(0,150000, newdeduction80C + newdeduction80CCC + newdeduction80CCD1);
let newdeduction80CCD1B = 0;
let newdeduction80CCD2 = Math.max(Number(document.getElementById('deduction80CCD2').value), 0); 
let newdeduction80D = 0;
let newdeduction80G = 0;
let newdeduction80E = 0;
let newdeduction80EE = 0;
let newdeduction80TTA = 0;
let newdeduction80TTB = 0;
let newanyOtherDeduction = 0;


let newExcessDeduction = newRestrictDeduction + newdeduction80CCD1B + newdeduction80CCD2 + newdeduction80D + newdeduction80G + newdeduction80E + newdeduction80EE + newdeduction80TTA + newdeduction80TTB + newanyOtherDeduction;

let newtotalDeductions=Math.min(Math.max(newGrossTotalIncome-(newSTCGSec111A + newLTCGSec112 + newLTCGSec112A + newWinningLottery),0),newExcessDeduction);




// Update the corresponding table cells with the calculated values for the new tax regime
document.getElementById('newTaxDeduction80C').textContent = newdeduction80C.toFixed(2);
document.getElementById('newTaxDeduction80CCC').textContent = newdeduction80CCC.toFixed(2);
document.getElementById('newTaxDeduction80CCD1').textContent = newdeduction80CCD1.toFixed(2);
document.getElementById('newTaxRestrictDeduction').textContent = newRestrictDeduction.toFixed(2);

document.getElementById('newTaxDeduction80CCD1B').textContent = newdeduction80CCD1B.toFixed(2);
document.getElementById('newTaxDeduction80CCD2').textContent = newdeduction80CCD2.toFixed(2);
document.getElementById('newTaxDeduction80D').textContent = newdeduction80D.toFixed(2);
document.getElementById('newTaxDeduction80G').textContent = newdeduction80G.toFixed(2);
document.getElementById('newTaxDeduction80E').textContent = newdeduction80E.toFixed(2);
document.getElementById('newTaxDeduction80EE').textContent = newdeduction80EE.toFixed(2);
document.getElementById('newTaxDeduction80TTA').textContent = newdeduction80TTA.toFixed(2);
document.getElementById('newTaxDeduction80TTB').textContent = newdeduction80TTB.toFixed(2);
document.getElementById('newTaxAnyOtherDeduction').textContent = newanyOtherDeduction.toFixed(2);
document.getElementById('newExcessDeduction').textContent = newExcessDeduction.toFixed(2);
document.getElementById('totalNewTaxDeductions').textContent = newtotalDeductions.toFixed(2);


let newnetIncome = Math.max(newGrossTotalIncome - newtotalDeductions, 0);



document.getElementById('newTaxNetIncome').textContent = newnetIncome.toFixed(2);

   let oldRoundoff = Math.round(oldnetIncome/10)*10;
   let newRoundoff = Math.round(newnetIncome/10)*10;

   document.getElementById('oldTaxRoundoff').textContent = oldRoundoff.toFixed(2);
   document.getElementById('newTaxRoundoff').textContent = newRoundoff.toFixed(2);
   





//OldTaxRegime Tax Calculation 

function AllIncomes() {
 
 


 
 
 
    let STCG111 = Number(document.getElementById('oldTaxSTCGSec111').textContent);
    let STCG111A = Number(document.getElementById('oldTaxSTCGSec111A').textContent);
    let LTCG112 = Number(document.getElementById('oldTaxLTCGSec112').textContent);
    let LTCG112A = Number(document.getElementById('oldTaxLTCGSec112A').textContent);
    let LTCG112AIncome = 0;
    let Lottery = Number(document.getElementById('oldTaxWinningLottery').textContent);
    
    
   let STCG111Loss=0;
    let STCG111ALoss=0;
    let LTCG112ALoss=0;
   let LTCG112Loss=0;
  let  LTCG112Gain=0;
    let LTCG112AGain=0;
   //Special Incomes after Setoff & Carry forward
  
   
  
//Find STCG111 & STCG111A income and if any loss arise after setoff then loss send to the STCG111Loss & STCG111ALoss for setting with LTCG Gain


     if(STCG111>0 && STCG111A<0 && STCG111 > -STCG111A){
    STCG111=STCG111+STCG111A;
}  else if(STCG111>0 && STCG111A<0 && STCG111< -STCG111A){
    STCG111=0;
    STCG111ALoss=STCG111A+STCG111;
} else if(STCG111A>0 && STCG111<0 && STCG111A> -STCG111){
    STCG111A=STCG111A+STCG111;
}  else if(STCG111A>0 && STCG111<0 && STCG111A< -STCG111){
    STCG111A=0;
    STCG111Loss=STCG111+STCG111A;
} else if(STCG111<0 && STCG111A<0)
{
    STCG111ALoss=STCG111A;
    STCG111Loss=STCG111;
} else {
    STCG111 =STCG111;
    STCG111A =STCG111A;
}

    //find LTCG loss Same as STCG

if (LTCG112 > 0 && LTCG112A < 0 && LTCG112 > -LTCG112A) {
    LTCG112Gain = LTCG112 + LTCG112A;
} else if (LTCG112 > 0 && LTCG112A < 0 && LTCG112 < -LTCG112A) {
    LTCG112Gain = 0;
    LTCG112ALoss = LTCG112A + LTCG112;
} else if (LTCG112A > 0 && LTCG112 < 0 && LTCG112A > -LTCG112) {
    LTCG112AGain = LTCG112A + LTCG112;
} else if (LTCG112A > 0 && LTCG112 < 0 && LTCG112A < -LTCG112) {
    LTCG112AGain = 0;
    LTCG112Loss = LTCG112 + LTCG112A;
} else if (LTCG112 < 0 && LTCG112A < 0) {
    LTCG112ALoss = LTCG112A;
    LTCG112Loss = LTCG112;
} else {
    LTCG112Gain = LTCG112;
    LTCG112AGain = LTCG112A;
}


// above we find both the LTCG & STCG loss after setting of Incomes and remaining part after setting of will be STCG loss setoff now from LTCG income
if ((STCG111Loss + STCG111A) < LTCG112Gain) {
    LTCG112Gain = LTCG112Gain - STCG111Loss - STCG111ALoss;
} else if (STCG111Loss < LTCG112Gain) {
    LTCG112Gain = LTCG112Gain - STCG111Loss;
} else if (STCG111ALoss < LTCG112Gain) {
    LTCG112Gain = LTCG112Gain - STCG111ALoss;
} else {
    LTCG112Gain = 0;
}

  
if ((STCG111Loss + STCG111A) < LTCG112AGain) {
    LTCG112AGain = LTCG112AGain - STCG111Loss - STCG111ALoss;
} else if (STCG111Loss < LTCG112AGain) {
    LTCG112AGain = LTCG112AGain - STCG111Loss;
} else if (STCG111ALoss < LTCG112AGain) {
    LTCG112AGain = LTCG112AGain - STCG111ALoss;
} else {
    LTCG112AGain = 0;
}



  
    
   let SpecialIncome = STCG111A+LTCG112Gain+LTCG112AGain+Lottery;
     if (LTCG112AGain>100000) {
        LTCG112AIncome = (LTCG112AGain - 100000);
    } else {
        LTCG112AIncome = 0;
    }
    
    let SpecialIncomeTax= STCG111A*0.15+LTCG112Gain*0.2+LTCG112AIncome*0.1+Lottery*0.3;
    
    
    
    let totalIncome = Number(document.getElementById('oldTaxRoundoff').textContent);
    let normalIncome = Number(document.getElementById('oldTaxRoundoff').textContent) - SpecialIncome;
    let oldTaxNormalIncomeTax = 0;
    let surcharge = 0;
    
    
    
    
  
  let Age = Number(document.getElementById('Age').value);
  

  if (Age<60 || Age ==="") {
      
    if (normalIncome <= 250000) {
      oldTaxNormalIncomeTax = 0;
    } else if (normalIncome <= 500000) {
      oldTaxNormalIncomeTax = 0.05 * (normalIncome - 250000);
    } else if (normalIncome <= 1000000) {
      oldTaxNormalIncomeTax = 12500 + 0.2 * (normalIncome - 500000);
    } else {
      oldTaxNormalIncomeTax = 112500 + 0.3 * (normalIncome - 1000000);
    }
  } else if (Age>=60 && Age<80) {
    if (normalIncome <= 300000) {
      oldTaxNormalIncomeTax = 0;
    } else if (normalIncome <= 500000) {
      oldTaxNormalIncomeTax = 0.05 * (normalIncome - 300000);
    } else if (normalIncome <= 1000000) {
      oldTaxNormalIncomeTax = 10000 + 0.2 * (normalIncome - 500000);
    } else {
      oldTaxNormalIncomeTax = 110000 + 0.3 * (normalIncome - 1000000);
    }
  } else { // Age 80 and above
    if (normalIncome <= 500000) {
      oldTaxNormalIncomeTax = 0;
    } else if (normalIncome <= 1000000) {
      oldTaxNormalIncomeTax = 0.2 * (normalIncome - 500000);
    } else {
      oldTaxNormalIncomeTax = 100000 + 0.3 * (normalIncome - 1000000);
    }
  }
  

 // Slab rate benefit given to LTCG & STCG but not lottery
 if (normalIncome<250000 && Age<60)
{
      if(LTCG112Gain>250000)
      { SpecialIncomeTax=(LTCG112Gain-(250000-normalIncome))*0.2+LTCG112AIncome*0.1+STCG111A*0.15+Lottery*0.3;
          
      }else if((LTCG112Gain+STCG111A)>250000)
      {
            SpecialIncomeTax=(STCG111A-LTCG112Gain-(250000-normalIncome))*0.15+LTCG112AIncome*0.1+Lottery*0.3;
            
      }else if((LTCG112Gain+STCG111A+LTCG112AGain)>250000)
      {
            SpecialIncomeTax=Math.max((LTCG112AGain-STCG111A-LTCG112Gain-(250000-normalIncome))-100000,0)*0.1+Lottery*0.3;
      }else
      {
         SpecialIncomeTax=0;
      }
      
}
else if (normalIncome<300000 && Age<80)
{
       if(LTCG112Gain>300000)
       {
        SpecialIncomeTax=(LTCG112Gain-(300000-normalIncome))*0.2+LTCG112AIncome*0.1+STCG111A*0.15+Lottery*0.3;
       }else if((LTCG112Gain+STCG111A)>300000)
       {
            SpecialIncomeTax=(STCG111A-LTCG112Gain-(300000-normalIncome))*0.15+LTCG112AIncome*0.1+Lottery*0.3;
       }else if((LTCG112Gain+STCG111A+LTCG112AGain)>300000)
       {
            SpecialIncomeTax=Math.max((LTCG112AGain-STCG111A-LTCG112Gain-(300000-normalIncome))-100000,0)*0.1+Lottery*0.3;
        }else
        {
        SpecialIncomeTax=0;
        }
}else if (normalIncome<500000 && Age>=80)
{
        if(LTCG112Gain>500000){
        SpecialIncomeTax=(LTCG112Gain-500000-normalIncome)*0.2+LTCG112AIncome*0.1+STCG111A*0.15+Lottery*0.3;
        }else if((LTCG112Gain+STCG111A)>500000){
            SpecialIncomeTax=(STCG111A-LTCG112Gain-(500000-normalIncome))*0.15+LTCG112AIncome*0.1+Lottery*0.3;
        }else if((LTCG112Gain+STCG111A+LTCG112AGain)>500000){
            SpecialIncomeTax=Math.max((LTCG112AGain-STCG111A-LTCG112Gain-(500000-normalIncome))-100000,0)*0.1+Lottery*0.3;
        }else {
         SpecialIncomeTax=0;
              }
}else
{
     SpecialIncomeTax= STCG111A*0.15+LTCG112Gain*0.2+LTCG112AIncome*0.1+Lottery*0.3;
}
 
 



let taxbeforerebate = oldTaxNormalIncomeTax + SpecialIncomeTax;

//LTCG112A benefit not given from rebate

     if (Number(document.getElementById('oldTaxRoundoff').textContent)<= 500000) {
         rebate = Math.max(Math.min(normalIncome+SpecialIncome,12500,taxbeforerebate-LTCG112AIncome*0.1),0);
     } else {
         rebate = 0;
     }
     
     
     let taxbeforesurcharge=taxbeforerebate-rebate;
    
     
     Dividend= Number(document.getElementById('oldTaxDividendIncome').textContent);
     
     let Dividendtax =(Dividend*oldTaxNormalIncomeTax)/normalIncome;
     
     


     if ((normalIncome+Lottery-Dividend) > 50000000) {
        // 37% surcharge for income exceeding Rs. 5 crore
        surcharge = (oldTaxNormalIncomeTax-Dividendtax) * 0.37+(SpecialIncomeTax+Dividendtax-Lottery*0.3)*0.15;
     }else   if ((normalIncome+Lottery-Dividend) > 20000000) {
        // 25% surcharge for income exceeding Rs. 2 crore
        surcharge = (oldTaxNormalIncomeTax-Dividendtax) * 0.25+(SpecialIncomeTax+Dividendtax-Lottery*0.3)*0.15;
    } else if (totalIncome > 10000000) {
        // 15% surcharge for income exceeding Rs. 1 crore
        surcharge = taxbeforesurcharge * 0.15;
    } else if (totalIncome > 5000000) {
        // 10% surcharge for income exceeding Rs. 50 lakh
        surcharge = taxbeforesurcharge * 0.10;
    } else {
        // No surcharge
        surcharge = 0;
    }
    
    


    document.getElementById('oldTaxNormalIncomeTax').textContent = oldTaxNormalIncomeTax.toFixed(2);
    document.getElementById('oldTaxSpecialIncomeTax').textContent = SpecialIncomeTax.toFixed(2);
    document.getElementById('oldTaxTotalTaxBeforeRebate').textContent = taxbeforerebate.toFixed(2);
    document.getElementById('oldTaxRebate87A').textContent = rebate.toFixed(2);
    document.getElementById('oldTaxTotalTaxBeforeSurcharge').textContent = taxbeforesurcharge.toFixed(2);
    document.getElementById('oldTaxSurcharge').textContent = surcharge.toFixed(2);
    
    let MarginalRelief = 0;

if (totalIncome > 50000000) {
    MarginalRelief = Math.max((taxbeforesurcharge + surcharge - 18515625) - (totalIncome - 50000000), 0);
} else if (totalIncome > 20000000) {
    MarginalRelief = Math.max((taxbeforesurcharge + surcharge - 6684375) - (totalIncome - 20000000), 0);
} else if (totalIncome > 10000000) {
    MarginalRelief = Math.max((taxbeforesurcharge + surcharge - 3093750) - (totalIncome - 10000000), 0);
} else if (totalIncome > 5000000) {
    MarginalRelief = Math.max((taxbeforesurcharge + surcharge - 1312500) - (totalIncome - 5000000), 0);
} else {
    MarginalRelief = 0;
}

let taxbeforecess = taxbeforesurcharge + surcharge - MarginalRelief;
let cess = Math.max(0, taxbeforecess * 0.04);
let grosstaxpayable = Math.max(taxbeforecess + cess, 0);

    

    
    
    document.getElementById('oldTaxMarginalRelief').textContent = MarginalRelief.toFixed(2);
    document.getElementById('oldTaxTotalTaxBeforeCess').textContent = taxbeforecess.toFixed(2);
    document.getElementById('oldTaxCess').textContent = cess.toFixed(2);
    document.getElementById('oldTaxGrossTaxPayable').textContent = grosstaxpayable.toFixed(2);
    
    
    
    
    
    
    
    
}

// Listen for changes in input fields (if you add input fields later)
 const inputs = document.querySelectorAll('input');
 inputs.forEach(input => {
    input.addEventListener('input', calculateAllIncomes);
 });

// Calculate on page load
AllIncomes();




//NewTaxRegime Tax Calculation 


    let STCG111 = Number(document.getElementById('newTaxSTCGSec111').textContent);
    let STCG111A = Number(document.getElementById('newTaxSTCGSec111A').textContent);
    let LTCG112 = Number(document.getElementById('newTaxLTCGSec112').textContent);
    let LTCG112A = Number(document.getElementById('newTaxLTCGSec112A').textContent);
   let LTCG112AIncome = 0;
    let Lottery = Number(document.getElementById('newTaxWinningLottery').textContent);
    
    
    
let STCG111Loss=0;
    let STCG111ALoss=0;
    let LTCG112ALoss=0;
   let LTCG112Loss=0;
  let  LTCG112Gain=0;
    let LTCG112AGain=0;
   //Special Incomes after Setoff & Carry forward
  
   
  
//Find STCG111 & STCG111A income and if any loss arise after setoff then loss send to the STCG111Loss & STCG111ALoss for setting with LTCG Gain


     if(STCG111>0 && STCG111A<0 && STCG111 > -STCG111A){
    STCG111=STCG111+STCG111A;
}  else if(STCG111>0 && STCG111A<0 && STCG111< -STCG111A){
    STCG111=0;
    STCG111ALoss=STCG111A+STCG111;
} else if(STCG111A>0 && STCG111<0 && STCG111A> -STCG111){
    STCG111A=STCG111A+STCG111;
}  else if(STCG111A>0 && STCG111<0 && STCG111A< -STCG111){
    STCG111A=0;
    STCG111Loss=STCG111+STCG111A;
} else if(STCG111<0 && STCG111A<0)
{
    STCG111ALoss=STCG111A;
    STCG111Loss=STCG111;
} else {
    STCG111 =STCG111;
    STCG111A =STCG111A;
}

    //find LTCG loss Same as STCG

if (LTCG112 > 0 && LTCG112A < 0 && LTCG112 > -LTCG112A) {
    LTCG112Gain = LTCG112 + LTCG112A;
} else if (LTCG112 > 0 && LTCG112A < 0 && LTCG112 < -LTCG112A) {
    LTCG112Gain = 0;
    LTCG112ALoss = LTCG112A + LTCG112;
} else if (LTCG112A > 0 && LTCG112 < 0 && LTCG112A > -LTCG112) {
    LTCG112AGain = LTCG112A + LTCG112;
} else if (LTCG112A > 0 && LTCG112 < 0 && LTCG112A < -LTCG112) {
    LTCG112AGain = 0;
    LTCG112Loss = LTCG112 + LTCG112A;
} else if (LTCG112 < 0 && LTCG112A < 0) {
    LTCG112ALoss = LTCG112A;
    LTCG112Loss = LTCG112;
} else {
    LTCG112Gain = LTCG112;
    LTCG112AGain = LTCG112A;
}


// above we find both the LTCG & STCG loss after setting of Incomes and remaining part after setting of will be STCG loss setoff now from LTCG income
if ((STCG111Loss + STCG111A) < LTCG112Gain) {
    LTCG112Gain = LTCG112Gain - STCG111Loss - STCG111ALoss;
} else if (STCG111Loss < LTCG112Gain) {
    LTCG112Gain = LTCG112Gain - STCG111Loss;
} else if (STCG111ALoss < LTCG112Gain) {
    LTCG112Gain = LTCG112Gain - STCG111ALoss;
} else {
    LTCG112Gain = 0;
}

  
if ((STCG111Loss + STCG111A) < LTCG112AGain) {
    LTCG112AGain = LTCG112AGain - STCG111Loss - STCG111ALoss;
} else if (STCG111Loss < LTCG112AGain) {
    LTCG112AGain = LTCG112AGain - STCG111Loss;
} else if (STCG111ALoss < LTCG112AGain) {
    LTCG112AGain = LTCG112AGain - STCG111ALoss;
} else {
    LTCG112AGain = 0;
}
    
    
    
    
   let SpecialIncome = STCG111A+LTCG112Gain+LTCG112AGain+Lottery;
     if (LTCG112AGain>100000) {
        LTCG112AIncome = (LTCG112AGain - 100000);
    } else {
        LTCG112AIncome = 0;
    }
   
    let SpecialIncomeTax=0;
    let totalIncome = Number(document.getElementById('newTaxRoundoff').textContent);
    let normalIncome = Number(document.getElementById('newTaxRoundoff').textContent) - SpecialIncome;
    let newTaxNormalIncomeTax = 0;
    let surcharge = 0;
    
   
    
    //Slab Rates
    
    if (normalIncome <= 300000) {
        newTaxNormalIncomeTax = 0;
    } else if (normalIncome <= 600000) {
        newTaxNormalIncomeTax = 0.05 * (normalIncome - 300000);
    } else if (normalIncome <= 900000) {
        newTaxNormalIncomeTax = 15000 + 0.1 * (normalIncome - 600000);
    } else if (normalIncome <= 1200000) {
        newTaxNormalIncomeTax = 45000+0.15 * (normalIncome - 900000);
    } else if (normalIncome <= 1500000) {
        newTaxNormalIncomeTax = 90000 + 0.2 * (normalIncome - 1200000);
    } else {
newTaxNormalIncomeTax = 150000 + 0.3 * (normalIncome - 1500000);
    }





 // Slab rate benefit given to LTCG & STCG but not lottery
 if (normalIncome<300000)
{
      if(LTCG112Gain>300000)
      { SpecialIncomeTax=(LTCG112Gain-(300000-normalIncome))*0.2+LTCG112AIncome*0.1+STCG111A*0.15+Lottery*0.3;
          
      }else if((LTCG112Gain+STCG111A)>300000)
      {
            SpecialIncomeTax=(STCG111A-LTCG112Gain-(300000-normalIncome))*0.15+LTCG112AIncome*0.1+Lottery*0.3;
            
      }else if((LTCG112Gain+STCG111A+LTCG112AGain)>300000)
      {
            SpecialIncomeTax=Math.max((LTCG112AGain-STCG111A-LTCG112Gain-(300000-normalIncome))-100000,0)*0.1+Lottery*0.3;
      }else
      {
         SpecialIncomeTax=0;
      }
      
} else {
    SpecialIncomeTax= STCG111A*0.15+LTCG112Gain*0.2+LTCG112AIncome*0.1+Lottery*0.3;
    
}


let taxbeforerebate = newTaxNormalIncomeTax + SpecialIncomeTax;





//LTCG112A & Lottery benefit not given from rebate

     if (totalIncome<= 700000) {
         rebate = Math.max(Math.min(newTaxNormalIncomeTax,25000),0);
     } else
     
     {
         
         
         rebate = Math.max((taxbeforerebate-SpecialIncomeTax)-(normalIncome-700000),0);
             
     
    
     }
     
     
     let taxbeforesurcharge = taxbeforerebate - rebate;
     
   
   
   
     

Dividend= Number(document.getElementById('newTaxDividendIncome').textContent);
     
     let Dividendtax =(Dividend*newTaxNormalIncomeTax)/normalIncome;
     
     
      if ((normalIncome+Lottery-Dividend) > 20000000) {
        // 25% surcharge for income exceeding Rs. 2 crore
      surcharge = (newTaxNormalIncomeTax-Dividendtax) * 0.25+(SpecialIncomeTax+Dividendtax-Lottery*0.3)*0.15;
    } else if (totalIncome > 10000000) {
        // 15% surcharge for income exceeding Rs. 1 crore
        surcharge = taxbeforesurcharge * 0.15;
    } else if (totalIncome > 5000000) {
        // 10% surcharge for income exceeding Rs. 50 lakh
        surcharge = taxbeforesurcharge * 0.10;
    } else {
        // No surcharge
        surcharge = 0;
    }


    document.getElementById('newTaxNormalIncomeTax').textContent = newTaxNormalIncomeTax.toFixed(2);
    document.getElementById('newTaxSpecialIncomeTax').textContent = SpecialIncomeTax.toFixed(2);
    document.getElementById('newTaxTotalTaxBeforeRebate').textContent = taxbeforerebate.toFixed(2);
    document.getElementById('newTaxRebate87A').textContent = rebate.toFixed(2);
    document.getElementById('newTaxTotalTaxBeforeSurcharge').textContent = taxbeforesurcharge.toFixed(2);
    document.getElementById('newTaxSurcharge').textContent = surcharge.toFixed(2);
    
    
        
    let MarginalRelief = 0;

if (totalIncome > 20000000) {
    MarginalRelief = Math.max((taxbeforesurcharge + surcharge - 6555000) - (totalIncome - 20000000), 0);
} else if (totalIncome > 10000000) {
    MarginalRelief = Math.max((taxbeforesurcharge + surcharge - 2970000) - (totalIncome - 10000000), 0);
} else if (totalIncome > 5000000) {
    MarginalRelief = Math.max((taxbeforesurcharge + surcharge - 1200000) - (totalIncome - 5000000), 0);
} else {
    MarginalRelief = 0;
}

let taxbeforecess = taxbeforesurcharge + surcharge - MarginalRelief;
let cess = Math.max(0, taxbeforecess * 0.04);
let grosstaxpayable = Math.max(taxbeforecess + cess, 0);

    
    
  document.getElementById('newTaxMarginalRelief').textContent = MarginalRelief.toFixed(2);
    
    document.getElementById('newTaxTotalTaxBeforeCess').textContent = taxbeforecess.toFixed(2);
    document.getElementById('newTaxCess').textContent = cess.toFixed(2);
    document.getElementById('newTaxGrossTaxPayable').textContent = grosstaxpayable.toFixed(2);

}

// Listen for changes in input fields
const inputs = document.querySelectorAll('input');
inputs.forEach(input => {
input.addEventListener('input', calculateAllIncomes);
});

// Calculate on page load
calculateAllIncomes();


        });
        
    //below is the ending point of secured through web URL  
   
//  }else{
      
//alert("Don't waste your time for copying. This file is fully secured by Sumit Garg");

 //} 
  
</script>

</body>
<footer>
        
        
        <div class="footer-links">
                            
            <a href="#">📞 Ph : 9716804520</a>
            <a href="#">✉️
               Email: Sumitgarg100000@gmail.com</a></a>
            <a href="#">📍
               Address: Nangloi, Delhi-110086</a>
      
        
        <br>
        
            <a href="#">Privacy Policy</a>
            <a href="#">Terms of Service</a>
            <a href="#">Copyright © 2024 Chartered Accountant Services</a>
        </div>
    </footer>

</html>
